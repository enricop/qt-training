\newcommand{\setfont}[2][x]{\ifthenelse{\equal{#1}{x}}{\fontsize{#2}{#2}}{\fontsize{#2}{#1}}\fontseries{c}\selectfont}
\newcommand{\slideId}{NO ID}

\newcommand{\leftSideLogo}{}
\newcommand{\rightSideLogo}{}
\newcommand{\pageBackground}{}
\newcommand{\frontPageBackground}{}
\newcommand{\handoutBackground}{}

\setbeamerfont{title}{family=\slidetitlefont}
\setbeamerfont{frametitle}{family=\slidetitlefont,size=\large}
\setbeamerfont{page number in head/foot}{family=\slidefootnotefont}
\setbeamerfont{block title}{series=\bfseries}

\newcommand{\setKDABOwned}[1]{
  \ifthenelse{\boolean{#1}}{
    \definecolor{qtdarkgreen}{RGB}{39,64,100}
    \definecolor{qtlightgreen}{RGB}{40,165,217}
    \setbeamercolor{itemize subitem}{fg=structure.fg!70}
    \renewcommand{\leftSideLogo}{diagrams/kdab-logo}
    \renewcommand{\rightSideLogo}{diagrams/kdab-text-logo}
    \renewcommand{\pageBackground}{images/kdab-background.pdf}
    \renewcommand{\frontPageBackground}{images/KDAB-titlepage-background}
    \renewcommand{\handoutBackground}{images/kdab-background.pdf}
    \partner{}
    \material{}
  }{
    % Configurations of bullets.

    % Alternative using images.
    % \setbeamertemplate{itemize item}{\includegraphics[scale=0.25916]{Theme/mainBullet.png}}
    % \setbeamertemplate{itemize subitem}{\includegraphics[scale=0.25916]{Theme/secundaryBullet.png}}
    % \setbeamertemplate{itemize subsubitem}{\includegraphics[scale=0.25916]{Theme/secundaryBullet.png}}
    \definecolor{qtdarkgreen}{RGB}{95,95,95}
    \definecolor{qtlightgreen}{RGB}{202,222,180}

    \definecolor{darkbullet}{RGB}{128,156,171}
    \definecolor{lightbullet}{RGB}{202,222,180}
    \setbeamercolor{itemize item}{fg=darkbullet}
    \setbeamercolor{itemize subitem}{fg=lightbullet}
    \setbeamercolor{itemize subsubitem}{fg=lightbullet}

    \renewcommand{\leftSideLogo}{diagrams/qt-logo}
    \renewcommand{\rightSideLogo}{diagrams/nokia-logo}
    \renewcommand{\pageBackground}{Theme/background-noqt}
    \renewcommand{\frontPageBackground}{Theme/background-noqt}
    \renewcommand{\handoutBackground}{Theme/background-noqt}
  }
  \setbeamercolor{structure}{fg=qtdarkgreen}
}


% shared colors
\definecolor{nokiadarkgray}{RGB}{54,53,52}
\definecolor{qtlightgray}{RGB}{208,208,208}
\definecolor{footerleftcolor}{RGB}{52,67,72}
\setbeamercolor{footer left}{fg=footerleftcolor}

% -------------------------------------------------- footer
\setbeamertemplate{footline} {
    \usebeamerfont{page number in head/foot}

        % logo
        \begin{textblock*}{\paperwidth}(8pt, 241pt)
            \includegraphics[scale=0.08, keepaspectratio]{\leftSideLogo}
        \end{textblock*}
        % subsection
        \begin{textblock*}{\paperwidth}(40pt, 249.2pt)
            {
                \usebeamercolor[fg]{footer left}
                \setfont{10}\insertsubsectionhead
            }
        \end{textblock*}
        % page
        \begin{textblock*}{\paperwidth}(225pt, 252pt)
            {
                \usebeamercolor[fg]{footer left}
                \tiny\insertframenumber/\inserttotalframenumber
            }
        \end{textblock*}
        % section
        \begin{textblock*}{\paperwidth}(0pt, 260pt)
            \hspace{\stretch{1}}
            {
                \setfont{10}\color{black}{\insertsectionhead}
            }
            \hspace*{2pt}
        \end{textblock*}
        \begin{textblock*}{\paperwidth}(0pt, 259.5pt)
            \hspace{\stretch{1}}
            {
                \setfont{10}\color{white}{\insertsectionhead}
            }
            \hspace*{2.5pt}
        \end{textblock*}
  
}

% ---------------------------------------- Title of pages
\setbeamertemplate{frametitle} 
{
  \vspace{3.75mm}
    \hfill\insertframetitle\hspace*{-10pt}
}

%---------------------------------------- Background (frame of slides)
\mode<beamer>{
   \setbeamertemplate{background canvas}{%
     \includegraphics[height=\paperheight]{\frontPageBackground}
   }

   % simple slide background
   \setbeamertemplate{background canvas}{%
     \includegraphics[height=\paperheight]{\pageBackground}
   }
}

%\mode<handout>{\usebackgroundtemplate{\includegraphics[width=\paperwidth]{\handoutBackground}}}

% ---------------------------------------- Other settings
\setlength{\leftmargini}{1em}
\setlength{\leftmarginii}{1em}
\setlength{\leftmarginiii}{1em}

\useinnertheme{circles}

% Let items not yet shown be grayed out rather than hidden.
\setbeamercovered{transparent=15}

\setbeamertemplate{sections/subsections in toc}[ball unnumbered]

\setbeamercolor{itemize subitem}{fg=structure.fg!70}
\setbeamercolor{itemize subsubitem}{fg=structure.fg!30}
\definecolor{normaltextcolor}{RGB}{74,74,74}
\setbeamercolor{normal text}{fg=normaltextcolor}
\setbeamercolor{alerted text}{fg=qtdarkgreen}

\setbeamertemplate{navigation symbols}{}

\usecolortheme{structure}  
\setbeamertemplate{blocks}[rounded][shadow=true]

\setKDABOwned{false}
