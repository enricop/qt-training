%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Copyright (c) 2008-2012, Nokia Corporation and/or its subsidiary(-ies).
% All rights reserved.
%
% This work, unless otherwise expressly stated, is licensed under a
% Creative Commons Attribution-ShareAlike 2.5.
%
% The full license document is available from
% http://creativecommons.org/licenses/by-sa/2.5/legalcode .
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\qtt{\qc{class}{ShaderEffectSource}~\{}\\
\qtt{~~~~\qc{type}{id}:~effectSource}\\
\qtt{~~~~\qc{type}{sourceItem}:~\qc{class}{Image}~\{~\qc{type}{id}:~butterfly;~...~\}}\\
\qtt{\}}\\
\qtt{\qc{class}{ShaderEffect}~\{}\\
\qtt{~~~~\qc{type}{width}:~butterfly.width;~\qc{type}{height}:~butterfly.height~}\\
\qtt{~~~~\qc{type}{property}~\qc{class}{variant}~\qc{type}{source}:~effectSource}\\
\qtt{~~~~\qc{type}{property}~\qc{class}{real}~\qc{type}{filterPosition}:~\qc{number}{0.0}}\\
\qtt{~~~~\qc{class}{SequentialAnimation}~on~\qc{type}{filterPosition}~\{~...~\}}\\
\qtt{~~~~\qc{type}{fragmentShader}:~\qc{string}{"}}\\
\qtt{~~~~~~~~~~~~\qc{string}{uniform sampler2D source;}}\\
\qtt{~~~~~~~~~~~~\qc{string}{uniform float filterPosition;}}\\
\qtt{~~~~~~~~~~~~\qc{string}{varying highp vec2 qt\_TexCoord0;}}\\
\qtt{~~~~~~~~~~~~\qc{string}{void main() \{}}\\
\qtt{~~~~~~~~~~~~~~~~\qc{string}{highp vec4 color = texture2D(source, qt\_TexCoord0);}}\\
\qtt{~~~~~~~~~~~~~~~~\qc{string}{if (qt\_TexCoord0.s < filterPosition)}}\\
\qtt{~~~~~~~~~~~~~~~~~~~~\qc{string}{gl\_FragColor = vec4( ... );}}\\
\qtt{~~~~~~~~~~~~~~~~\qc{string}{ else }}\\
\qtt{~~~~~~~~~~~~~~~~~~~~\qc{string}{gl\_FragColor = color;}}\\
\qtt{~~~~~~~~~~~~\qc{string}{\}"}}\\
\qtt{\}}\\
